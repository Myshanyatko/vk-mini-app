(this["webpackJsonpmini-app"]=this["webpackJsonpmini-app"]||[]).push([[0],{141:function(e,t,s){},143:function(e,t,s){"use strict";s.r(t);var n=s(0),r=s(16),c=s.n(r),i=s(8),a=s.n(i),d=s(25),o=s(11),j=s(20),l=s.n(j),h=s(5),u=(s(15),s(141),s.p+"static/media/logoMiniApp.8d40b96d.png"),b=s(3),f=function(e){var t=e.id,s=e.go;e.fetchedUser;return Object(b.jsxs)(h.g,{id:t,children:[Object(b.jsx)(h.h,{children:"\u041e\u0442\u0433\u0430\u0434\u0430\u0439, \u0447\u0435\u0439 \u0441\u0442\u0430\u0442\u0443\u0441"}),Object(b.jsxs)("p",{className:"homeDescription",children:["\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u043c, \u043a\u0430\u043a \u0445\u043e\u0440\u043e\u0448\u043e \u0442\u044b \u0437\u043d\u0430\u0435\u0448\u044c \u0441\u0432\u043e\u0438\u0445 \u0434\u0440\u0443\u0437\u0435\u0439?",Object(b.jsx)("br",{})," \u0412 \u044d\u0442\u043e\u043c \u043c\u0438\u043d\u0438-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438 \u043d\u0443\u0436\u043d\u043e \u043e\u0442\u0433\u0430\u0434\u044b\u0432\u0430\u0442\u044c, \u043a\u043e\u043c\u0443 \u0438\u0437 \u0442\u0432\u043e\u0438\u0445 \u0434\u0440\u0443\u0437\u0435\u0439 \u0432\u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0435 \u043f\u0440\u0438\u043d\u0430\u0434\u043b\u0435\u0436\u0438\u0442 \u0441\u0442\u0430\u0442\u0443\u0441."]}),Object(b.jsx)(h.f,{children:Object(b.jsxs)(h.e,{className:"home",children:[Object(b.jsx)("img",{src:u}),Object(b.jsx)(h.c,{stretched:!0,size:"l",mode:"secondary",onClick:s,"data-to":"whoseStatus",children:"\u041f\u043e\u0433\u043d\u0430\u043b\u0438!"})]})})]})},p=function(e){var t=Object(n.useState)("neutral"),s=Object(o.a)(t,2),r=s[0],c=s[1];return Object(b.jsxs)(h.c,{stretched:!0,size:"l",mode:"secondary",onClick:function(){return e.right?c("correct"):c("incorrect"),void e.setPressed(!0)},className:"friend "+r,disabled:e.pressed,children:[Object(b.jsx)("img",{src:e.imageSrc}),Object(b.jsx)("p",{children:e.name})]})},O=function(e){var t=Object(n.useState)(!1),s=Object(o.a)(t,2),r=s[0],c=s[1],i=e.friends.map((function(t){return Object(b.jsx)(p,{imageSrc:t.photo_100,name:t.first_name+" "+t.last_name,status:t.status,id:t.id,right:e.randomFriend1.id==t.id,pressed:r,setPressed:c},t.id)}));return Object(b.jsxs)("div",{className:"listFriends",children:[Object(b.jsx)("div",{className:"friends",children:i}),Object(b.jsx)(h.c,{stretched:!0,size:"l",mode:"secondary",onClick:function(t){return function(t){e.go(t),c(!1),e.setGoFriend((function(e){return!e}))}(t)},"data-to":"whoseStatus",disabled:!r,children:"\u0414\u0430\u043b\u0435\u0435"})]})},m=function(e){for(var t=Object(n.useState)(!1),s=Object(o.a)(t,2),r=s[0],c=s[1],i=e.friends.filter((function(e){return""!=e.status})),a=i[parseInt(Math.random()*i.length)],d=a.status,j=e.friends[parseInt(Math.random()*e.friends.length)];a.id==j.id;)j=e.friends[parseInt(Math.random()*e.friends.length)];for(var l=e.friends[parseInt(Math.random()*e.friends.length)];l.id==j.id||l.id==a.id;)l=e.friends[parseInt(Math.random()*e.friends.length)];var u=[a,j,l];return function(e){for(var t=e.length-1;t>0;t--){var s=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[s],e[s]=n}}(u),Object(b.jsxs)(h.g,{id:e.id,children:[Object(b.jsx)(h.h,{left:Object(b.jsx)(h.i,{onClick:e.go,"data-to":"home"}),children:"\u041e\u0442\u0433\u0430\u0434\u0430\u0439, \u0447\u0435\u0439 \u0441\u0442\u0430\u0442\u0443\u0441"}),Object(b.jsxs)(h.e,{children:[Object(b.jsx)("p",{className:"status",children:d||"null"}),Object(b.jsx)(h.e,{children:Object(b.jsx)(O,{friends:u,randomFriend1:a,goFriend:r,go:e.go,setGoFriend:c})})]})]})},x=function(){var e=8229881;a.a.send("VKWebAppInit");var t=Object(n.useState)("bright_light"),s=Object(o.a)(t,2),r=s[0],c=s[1],i=Object(n.useState)("home"),j=Object(o.a)(i,2),u=j[0],p=j[1],O=Object(n.useState)([]),x=Object(o.a)(O,2),g=x[0],v=x[1],S=Object(n.useState)(Object(b.jsx)(h.j,{size:"large"})),k=Object(o.a)(S,2),I=k[0],M=k[1],_="status,photo_100";Object(n.useEffect)((function(){function t(){return(t=Object(d.a)(l.a.mark((function t(){var s,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.send("VKWebAppGetAuthToken",{app_id:e,scope:"friends,status"});case 2:return s=t.sent,t.next=5,a.a.send("VKWebAppCallAPIMethod",{method:"friends.get",request_id:"friends",params:{order:"name",v:"5.131",access_token:s.access_token,fields:_}});case 5:n=t.sent,v(n.response.items),console.log("fetchfriends"),console.log(g),M(null);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}a.a.subscribe((function(e){var t=e.detail,s=t.type,n=t.data;"VKWebAppUpdateConfig"===s&&c(n.scheme)})),function(){t.apply(this,arguments)}()}),[]);var A=function(e){p(e.currentTarget.dataset.to)};return Object(b.jsx)(h.d,{scheme:r,children:Object(b.jsx)(h.a,{children:Object(b.jsx)(h.b,{children:Object(b.jsx)(h.l,{popout:I,children:Object(b.jsx)(h.k,{children:Object(b.jsxs)(h.m,{activePanel:u,children:[Object(b.jsx)(f,{id:"home",go:A}),Object(b.jsx)(m,{id:"whoseStatus",friends:g,go:A})]})})})})})})};a.a.send("VKWebAppInit"),c.a.render(Object(b.jsx)(x,{}),document.getElementById("root"))}},[[143,1,2]]]);
//# sourceMappingURL=main.1587a112.chunk.js.map